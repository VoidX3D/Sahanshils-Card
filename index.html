<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />   
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Christmas Card for You</title>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --color-primary: #a12c2c; /* Deeper Christmas Red */
            --color-secondary: #1E8449; /* Deeper Christmas Green */
            --color-accent: #f1c40f; /* Gold */
            --color-text-light: #ecf0f1;
            --color-text-dark: #34495e;
            --glass-blur: 8px;
        }

        body, html {
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #0a1332;
        }

        .background-iframe-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1;
        }
        #background-iframe { width: 100%; height: 100%; border: none; }
        #snow-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 2; pointer-events: none; }

        .glass-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            backdrop-filter: blur(var(--glass-blur)) saturate(120%);
            -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(120%);
            background: none;
            z-index: 3;
            pointer-events: none;
        }

        .card-container {
            position: relative;
            width: 90vmin;
            max-width: 500px;
            height: 60vmin;
            max-height: 350px;
            perspective: 1200px;
            z-index: 100;
        }

        .envelope-wrapper {
            position: relative; width: 100%; height: 100%; transform-style: preserve-3d;
            transform: rotateX(10deg) rotateY(-10deg); transition: transform 1s ease;
            cursor: pointer; opacity: 0;
        }
        .envelope-wrapper:hover { transform: rotateX(0deg) rotateY(0deg) scale(1.05); }

        .envelope {
            position: absolute; width: 100%; height: 100%;
            background-color: var(--color-primary); border-radius: 10px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.4); transform-style: preserve-3d;
        }

        .envelope-flap {
            position: absolute; top: 0; left: 0; width: 100%; height: 52%;
            background: linear-gradient(to bottom, #d64545, var(--color-primary));
            clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 50% 25%, 0% 100%);
            transform-origin: top center; z-index: 12;
        }
        
        .envelope-message {
            color: var(--color-text-light); font-family: 'Dancing Script', cursive; font-size: 0.9rem;
            text-align: left; line-height: 1.5; position: absolute; top: 15px; left: 20px;
            text-shadow: 0 1px 3px rgba(0,0,0,0.2);
        }

        .letter {
            position: absolute; width: 95%; height: 95%; background-color: #fdfdfd;
            border-radius: 5px; top: 2.5%; left: 2.5%; transform: translateY(50%) translateZ(-100px);
            box-shadow: 0 5px 25px rgba(0,0,0,0.3); z-index: 5; opacity: 0;
            padding: 1.5rem; box-sizing: border-box; color: var(--color-text-dark); text-align: center;
        }

        .letter h1 { font-family: 'Dancing Script', cursive; font-size: 2.5rem; color: var(--color-primary); margin: 0; }
        .letter p { font-family: 'Playfair Display', serif; font-size: 1rem; line-height: 1.6; }
        .letter .signature { font-family: 'Dancing Script', cursive; font-size: 1.2rem; text-align: right; margin-top: 1rem; }

        .ribbon-wrapper { position: absolute; width: 100%; height: 100%; top: 0; left: 0; pointer-events: none; z-index: 11; }
        .ribbon { position: absolute; background: linear-gradient(90deg, var(--color-secondary) 33%, #fff 33%, #fff 66%, var(--color-primary) 66%); box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .ribbon.vertical { width: 30px; height: 100%; left: 50%; transform: translateX(-50%); }
        .ribbon.horizontal { width: 100%; height: 30px; top: 50%; transform: translateY(-50%); }
        
        .stamp {
            position: absolute; width: 70px; height: 70px; background-color: #fff; border-radius: 50%;
            top: 20%; right: 15%; transform: rotate(15deg); box-shadow: 0 5px 10px rgba(0,0,0,0.3);
            border: 3px solid var(--color-accent); z-index: 12; pointer-events: auto;
            display: flex; justify-content: center; align-items: center; font-size: 1.5rem; color: var(--color-accent);
        }

        .corner-decoration {
            position: absolute; width: 150px; height: 150px; z-index: 4; pointer-events: none;
        }
        .corner-decoration svg { width: 100%; height: 100%; filter: drop-shadow(0 0 5px var(--color-accent)); }
        .top-left { top: -10px; left: -10px; }
        .top-right { top: -10px; right: -10px; transform: rotate(90deg); }
        .bottom-left { bottom: -10px; left: -10px; transform: rotate(-90deg); }
        .bottom-right { bottom: -10px; right: -10px; transform: rotate(180deg); }
        /* Christmas Lights at Top */
.top-lights {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 52px;
    background-image: url('/lights.svg');
    background-repeat: repeat-x;
    background-size: 415px 52px;
    z-index: 9999; /* Very high z-index */
    pointer-events: none;
    opacity: 0.9;
}

/* Optional: Add a subtle animation */
@keyframes gentleTwinkle {
    0%, 100% { opacity: 0.8; }
    50% { opacity: 0.95; }
}

.top-lights {
    animation: gentleTwinkle 4s ease-in-out infinite;
}
        /* Make it blend better with your dark background */
.top-lights {
    mix-blend-mode: screen; /* Makes lights glow brighter on dark */
    mask-image: linear-gradient(to bottom, 
        rgba(0,0,0,1) 0%, 
        rgba(0,0,0,1) 80%, 
        rgba(0,0,0,0) 100%
    );
}
        @media (max-width: 768px) {
            .card-container {
                width: 85vw; /* Slightly less wide for mobile */
                height: 70vh; /* Shorter for mobile portrait */
                max-width: none;
                max-height: none;
            }

            .letter h1 {
                font-size: 1.8rem; /* Adjusted for new card size */
            }

            .letter p {
                font-size: 0.8rem; /* Adjusted for new card size */
            }

            .letter .signature {
                font-size: 1rem; /* Adjusted for new card size */
            }

            .letter {
                padding: 0.8rem; /* Reduced padding slightly */
            }
            .envelope-message {
                font-size: 0.7rem; /* Adjusted */
                top: 8px; /* Adjusted position */
                left: 8px; /* Adjusted position */
            }
            .stamp {
                width: 50px;
                height: 50px;
                font-size: 1rem;
                top: 10%;
                right: 10%;
            }
            .ribbon.vertical { width: 20px; }
            .ribbon.horizontal { height: 20px; }
            .corner-decoration {
                width: 100px;
                height: 100px;
            }
        }
    </style>
</head>
<body>
    <div class="background-iframe-container">
    <!-- Fallback that works immediately -->
    <div id="fallback-bg" style="position:absolute; width:100%; height:100%; background:linear-gradient(135deg, #0a1332 0%, #1a237e 100%); z-index:1;"></div>
    <iframe id="background-iframe" src="/background.html" 
            style="position:absolute; width:100%; height:100%; border:none; z-index:2;"
            onerror="document.getElementById('fallback-bg').style.zIndex='3'; console.log('Using fallback background');">
    </iframe>
</div>
    <div class="glass-layer"></div>
    <canvas id="snow-canvas"></canvas>
    <div class="top-lights"></div>
    <!-- Corner Decorations -->
    <div class="corner-decoration top-left">
        <svg viewBox="0 0 100 100"><line x1="0" y1="0" x2="80" y2="80" stroke="#f1c40f" stroke-width="1.5"/><line x1="0" y1="20" x2="60" y2="80" stroke="#f1c40f" stroke-width="1"/><line x1="20" y1="0" x2="80" y2="60" stroke="#f1c40f" stroke-width="1"/></svg>
    </div>
    <div class="corner-decoration top-right">
        <svg viewBox="0 0 100 100"><line x1="0" y1="0" x2="80" y2="80" stroke="#f1c40f" stroke-width="1.5"/><line x1="0" y1="20" x2="60" y2="80" stroke="#f1c40f" stroke-width="1"/><line x1="20" y1="0" x2="80" y2="60" stroke="#f1c40f" stroke-width="1"/></svg>
    </div>
    <div class="corner-decoration bottom-left">
        <svg viewBox="0 0 100 100"><line x1="0" y1="0" x2="80" y2="80" stroke="#f1c40f" stroke-width="1.5"/><line x1="0" y1="20" x2="60" y2="80" stroke="#f1c40f" stroke-width="1"/><line x1="20" y1="0" x2="80" y2="60" stroke="#f1c40f" stroke-width="1"/></svg>
    </div>
    <div class="corner-decoration bottom-right">
        <svg viewBox="0 0 100 100"><line x1="0" y1="0" x2="80" y2="80" stroke="#f1c40f" stroke-width="1.5"/><line x1="0" y1="20" x2="60" y2="80" stroke="#f1c40f" stroke-width="1"/><line x1="20" y1="0" x2="80" y2="60" stroke="#f1c40f" stroke-width="1"/></svg>
    </div>

    <div class="card-container">
        <div class="envelope-wrapper">
            <div class="envelope">
                <div class="letter">
                    <h1>Merry Christmas!</h1>
                    <p>
                        Hope your day went well!<br>
                        Thinking of you all in Belgium<br>
                        Wishing you peace, health, and warm moments together.<br>
                        May this season bring a little extra joy!<br>
                        Miss you  and can’t wait to see you again.
                    </p>
                    <p class="signature">— Sahanshil Bhattarai</p>
                    <div style={{ position: 'fixed', bottom: '10px', right: '10px', zIndex: 1000, background: 'rgba(10, 19, 50, 0.7)', padding: '8px 12px', borderRadius: '20px', backdropFilter: 'blur(10px)', border: '1px solid rgba(192, 57, 43, 0.3)' }}>
  <span style={{ color: 'white', fontFamily: "'Playfair Display', serif", fontSize: '0.8rem', marginRight: '10px' }}>Sincere Bhattarai</span>
  <a href="https://www.facebook.com/galexy.yt.7" target="_blank" rel="noopener noreferrer" style={{ margin: '0 5px' }}>
    <svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
  </a>
  <a href="https://www.instagram.com/sincerebhattarai/" target="_blank" rel="noopener noreferrer" style={{ margin: '0 5px' }}>
    <svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
  </a>
  <a href="https://github.com/VoidX3D" target="_blank" rel="noopener noreferrer" style={{ margin: '0 5px' }}>
    <svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></svg>
  </a>
  <a href="https://ubuntu-sincere.vercel.app" target="_blank" rel="noopener noreferrer" style={{ margin: '0 5px' }}>
    <svg width="16" height="16" viewBox="0 0 24 24" fill="white"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm-2 16h-2v-6h2v6zm-1-6.891c-.607 0-1.1-.496-1.1-1.109 0-.612.492-1.109 1.1-1.109s1.1.497 1.1 1.109c0 .613-.493 1.109-1.1 1.109zm8 6.891h-1.998v-2.861c0-1.881-2.002-1.722-2.002 0v2.861h-2v-6h2v1.093c.872-1.616 4-1.736 4 1.548v3.359z"/></svg>
  </a>
</div>
                </div>
                <div class="envelope-flap">
                    <div class="envelope-message">
                        To: Leen Dekelver<br>
                        and Ram Chandra Paudel<br><br>
                        From: Sahanshil Bhattarai
                    </div>
                </div>
            </div>
            <div class="ribbon-wrapper">
                <div class="ribbon vertical"></div>
                <div class="ribbon horizontal"></div>
                <div class="stamp">❆</div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const snowCanvas = document.getElementById('snow-canvas');
            const snowCtx = snowCanvas.getContext('2d');
            let snowflakes = [];
            const numSnowflakes = 150;
            const snowflakeShapes = ['\u2744', '\u2745', '\u2746'];

            function resizeCanvas() {
                snowCanvas.width = window.innerWidth;
                snowCanvas.height = window.innerHeight;
            }

            function createSnowflakes() {
                snowflakes = [];
                for (let i = 0; i < numSnowflakes; i++) {
                    snowflakes.push({
                        x: Math.random() * snowCanvas.width,
                        y: Math.random() * snowCanvas.height,
                        size: Math.random() * 15 + 5,
                        speed: Math.random() * 1 + 0.5,
                        drift: Math.random() * 0.5 - 0.25,
                        rotation: Math.random() * Math.PI * 2,
                        rotationSpeed: (Math.random() - 0.5) * 0.01,
                        shape: snowflakeShapes[Math.floor(Math.random() * snowflakeShapes.length)],
                        opacity: Math.random() * 0.7 + 0.3
                    });
                }
            }

            function drawSnowflakes() {
                snowCtx.clearRect(0, 0, snowCanvas.width, snowCanvas.height);
                snowflakes.forEach(flake => {
                    flake.y += flake.speed;
                    flake.x += flake.drift;
                    flake.rotation += flake.rotationSpeed;
                    if (flake.y > snowCanvas.height) {
                        flake.y = -flake.size;
                        flake.x = Math.random() * snowCanvas.width;
                    }
                    snowCtx.save();
                    snowCtx.globalAlpha = flake.opacity;
                    snowCtx.fillStyle = 'white';
                    snowCtx.font = `${flake.size}px Arial`;
                    snowCtx.translate(flake.x, flake.y);
                    snowCtx.rotate(flake.rotation);
                    snowCtx.fillText(flake.shape, 0, 0);
                    snowCtx.restore();
                });
                requestAnimationFrame(drawSnowflakes);
            }

            window.addEventListener('resize', resizeCanvas);
            resizeCanvas();
            createSnowflakes();
            drawSnowflakes();

            const envelopeWrapper = document.querySelector('.envelope-wrapper');
            const stamp = document.querySelector('.stamp');
            const ribbonWrapper = document.querySelector('.ribbon-wrapper');
            const envelopeFlap = document.querySelector('.envelope-flap');
            const letter = document.querySelector('.letter');
            
            let opened = false;
            
            anime({
                targets: envelopeWrapper,
                translateY: ['-100vh', '0%'],
                opacity: [0, 1],
                rotateX: '10deg',
                rotateY: '-10deg',
                duration: 2000,
                easing: 'easeOutExpo',
                delay: 500,
            });

            anime({
                targets: '.corner-decoration line',
                strokeDashoffset: [anime.setDashoffset, 0],
                easing: 'easeInOutSine',
                duration: 1500,
                delay: (el, i) => i * 250 + 500,
                direction: 'alternate',
                loop: true
            });

            const openCard = () => {
                if (opened) return;
                opened = true;
                
                anime.timeline({
                    easing: 'easeOutExpo',
                })
                .add({
                    targets: [stamp, ribbonWrapper],
                    translateY: ['-200%', '0%'],
                    rotate: ['45deg', '0deg'],
                    opacity: [0, 1],
                    duration: 1200,
                })
                .add({
                    targets: envelopeFlap,
                    rotateX: '-180deg',
                    duration: 1000,
                    easing: 'easeInOutCubic',
                }, '-=800')
                .add({
                    targets: letter,
                    translateY: ['50%', '0%'],
                    translateZ: ['-100px', '100px'],
                    opacity: 1,
                    duration: 1500,
                }, '-=1000');
            };
            
            envelopeWrapper.addEventListener('click', openCard);
        });
    </script>
    <script>
        // Add to DOMContentLoaded
const backgroundIframe = document.getElementById('background-iframe');
if (backgroundIframe) {
    backgroundIframe.onerror = function() {
        console.log('Background failed, using fallback');
        this.style.display = 'none';
        // Create fallback background
        const fallback = document.createElement('div');
        fallback.style.cssText = `
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #0a1332 0%, #1a237e 100%);
            z-index: 1;
        `;
        document.querySelector('.background-iframe-container').appendChild(fallback);
    };
}
    </script>
</body>
</html>
